# ğŸ¯ é¡¹ç›®ç»“æ„æ•´ç†å®ŒæˆæŠ¥å‘Š

## æ•´ç†æ¦‚è¿°
æˆåŠŸå®Œæˆäº†é¡¹ç›®æ–‡ä»¶ç»“æ„çš„å…¨é¢æ•´ç†ï¼Œåˆ é™¤äº†æ— ç”¨æ–‡ä»¶ï¼Œé‡æ–°ç»„ç»‡äº†ç›®å½•ç»“æ„ï¼Œä½¿é¡¹ç›®æ›´åŠ æ¸…æ™°å’Œä¸“ä¸šã€‚

## ğŸ“ æœ€ç»ˆé¡¹ç›®ç»“æ„

```
896.åè®®æµ‹è¯•å·¥å…·/
â”œâ”€â”€ .git/                          # Gitç‰ˆæœ¬æ§åˆ¶
â”œâ”€â”€ .gitignore                     # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .vscode/                       # VS Codeé…ç½®
â”œâ”€â”€ src/                           # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ auth_server/               # ç™»å½•æœåŠ¡å™¨ (åŸ 01.ç™»å½•æœ)
â”‚   â”‚   â”œâ”€â”€ 01.http_auth.py
â”‚   â”‚   â”œâ”€â”€ 02.å°ç¦è´¦å·.py
â”‚   â”‚   â””â”€â”€ 03.æ¨¡æ‹Ÿè§’è‰²æ•°æ®å˜æ›´.py
â”‚   â”œâ”€â”€ gateway/                   # ç½‘å…³æœåŠ¡å™¨ (åŸ 02.ç½‘å…³)
â”‚   â”‚   â””â”€â”€ 01.ç™»å½•.py
â”‚   â”œâ”€â”€ game_server/               # æ¸¸æˆæœåŠ¡å™¨ (åŸ 03.æ¸¸æˆæœ)
â”‚   â””â”€â”€ script_runner/             # è„šæœ¬è¿è¡Œå™¨ (åŸ 11.æ¨¡æ‹Ÿè„šæœ¬)
â”‚       â”œâ”€â”€ commands/              # å‘½ä»¤æ¨¡å—
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ base_command.py
â”‚       â”‚   â”œâ”€â”€ command_manager.py
â”‚       â”‚   â”œâ”€â”€ auth_commands.py
â”‚       â”‚   â”œâ”€â”€ network_commands.py
â”‚       â”‚   â”œâ”€â”€ game_commands.py
â”‚       â”‚   â””â”€â”€ utility_commands.py
â”‚       â”œâ”€â”€ main.py                # ä¸»å…¥å£
â”‚       â”œâ”€â”€ script_executor.py     # è„šæœ¬æ‰§è¡Œå™¨
â”‚       â”œâ”€â”€ script_editor.py       # è„šæœ¬ç¼–è¾‘å™¨
â”‚       â”œâ”€â”€ quick_runner.py        # å¿«é€Ÿè¿è¡Œå™¨
â”‚       â””â”€â”€ README.md
â”œâ”€â”€ scripts/                       # è„šæœ¬æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ auth_only.json
â”‚   â”œâ”€â”€ direct_login.json
â”‚   â”œâ”€â”€ include_login_flow.json
â”‚   â”œâ”€â”€ login_flow.json
â”‚   â”œâ”€â”€ mixed_include.json
â”‚   â”œâ”€â”€ modular_login.json
â”‚   â”œâ”€â”€ nested_include.json
â”‚   â”œâ”€â”€ modules/                   # æ¨¡å—åŒ–è„šæœ¬
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ tests/                         # ç»Ÿä¸€æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ run_tests.py
â”‚   â”œâ”€â”€ test_auto_params.py
â”‚   â”œâ”€â”€ test_auto_register.py
â”‚   â”œâ”€â”€ test_game_auto_register.py
â”‚   â”œâ”€â”€ test_refactor.py
â”‚   â””â”€â”€ test_script.py
â”œâ”€â”€ config/                        # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.yml
â”œâ”€â”€ utils/                         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_tcp_client.py
â”‚   â”œâ”€â”€ config_manager.py
â”‚   â”œâ”€â”€ protocol_codec.py
â”‚   â”œâ”€â”€ tcp_client.py
â”‚   â””â”€â”€ utils.py
â”œâ”€â”€ docs/                          # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ command_manager_optimization.md
â”‚   â”œâ”€â”€ config_path_refactor.md
â”‚   â”œâ”€â”€ project_restructure.md
â”‚   â”œâ”€â”€ script_editor_modernization.md
â”‚   â””â”€â”€ tcp_error_fix.md
â”œâ”€â”€ tools/                         # æ„å»ºå·¥å…·
â”‚   â””â”€â”€ gen_proto.sh
â”œâ”€â”€ launcher.py                    # ä¸»å¯åŠ¨å™¨
â”œâ”€â”€ README.md                      # é¡¹ç›®è¯´æ˜
â””â”€â”€ requirements.txt               # ä¾èµ–é…ç½®
```

## ğŸ—‘ï¸ æ¸…ç†çš„æ–‡ä»¶

### åˆ é™¤çš„ä¸´æ—¶æ–‡ä»¶
- `11.æ¨¡æ‹Ÿè„šæœ¬/test_refactor.py` - ä¸´æ—¶æµ‹è¯•æ–‡ä»¶
- `11.æ¨¡æ‹Ÿè„šæœ¬/test_editor.py` - ä¸´æ—¶æµ‹è¯•æ–‡ä»¶
- `11.æ¨¡æ‹Ÿè„šæœ¬/commands/test_commands.py` - æµ‹è¯•å‘½ä»¤æ–‡ä»¶
- `11.æ¨¡æ‹Ÿè„šæœ¬/examples/` - ç©ºç›®å½•
- æ‰€æœ‰ `__pycache__/` ç›®å½•

### åˆå¹¶çš„ç›®å½•
- `test/` + `11.æ¨¡æ‹Ÿè„šæœ¬/test/` â†’ `tests/`
- `11.æ¨¡æ‹Ÿè„šæœ¬/scripts/` â†’ `scripts/`

## ğŸ”§ è·¯å¾„æ›´æ–°

### æ›´æ–°çš„æ–‡ä»¶
1. **launcher.py** - æ›´æ–°å·¥å…·è·¯å¾„å¼•ç”¨
2. **src/script_runner/script_executor.py** - è°ƒæ•´sys.path
3. **src/script_runner/script_editor.py** - è°ƒæ•´sys.pathå’Œè„šæœ¬ç›®å½•è·¯å¾„
4. **src/script_runner/quick_runner.py** - è°ƒæ•´sys.path
5. **src/script_runner/main.py** - è°ƒæ•´sys.path

### è·¯å¾„å˜æ›´è¯´æ˜
- `sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))` 
  â†’ `sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__)))))`
- è„šæœ¬ç›®å½•ç°åœ¨ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•: `scripts/`

## âœ… éªŒè¯ç»“æœ

### ç»“æ„å®Œæ•´æ€§
- âœ… æ‰€æœ‰å¿…éœ€ç›®å½•å­˜åœ¨
- âœ… æ‰€æœ‰å…³é”®æ–‡ä»¶å­˜åœ¨
- âœ… 7ä¸ªè„šæœ¬æ–‡ä»¶æ­£ç¡®è¿ç§»
- âœ… ScriptEditoråˆå§‹åŒ–æˆåŠŸ
- âœ… è„šæœ¬ç›®å½•è·¯å¾„æ­£ç¡®

### åŠŸèƒ½éªŒè¯
- âœ… æ¨¡å—å¯¼å…¥æ­£å¸¸
- âœ… é…ç½®æ–‡ä»¶è·¯å¾„æ­£ç¡®
- âœ… è„šæœ¬æ–‡ä»¶è®¿é—®æ­£å¸¸
- âœ… å‘½ä»¤å‘ç°åŠŸèƒ½æ­£å¸¸

## ğŸ“Š ç»Ÿè®¡æ•°æ®

### æ¸…ç†ç»Ÿè®¡
- åˆ é™¤ä¸´æ—¶æ–‡ä»¶: 3ä¸ª
- åˆ é™¤ç©ºç›®å½•: 1ä¸ª
- åˆå¹¶ç›®å½•: 2ä¸ª
- é‡å‘½åç›®å½•: 4ä¸ª

### æ–‡ä»¶ç»Ÿè®¡
- æºä»£ç æ–‡ä»¶: 15+
- è„šæœ¬æ–‡ä»¶: 7ä¸ª
- æµ‹è¯•æ–‡ä»¶: 6ä¸ª
- é…ç½®æ–‡ä»¶: 1ä¸ª
- æ–‡æ¡£æ–‡ä»¶: 5ä¸ª

## ğŸš€ ä¼˜åŠ¿

### 1. æ›´æ¸…æ™°çš„ç»“æ„
- æºä»£ç é›†ä¸­åœ¨srcç›®å½•
- è„šæœ¬æ–‡ä»¶ç‹¬ç«‹ç®¡ç†
- æµ‹è¯•æ–‡ä»¶ç»Ÿä¸€ç»„ç»‡
- è‹±æ–‡ç›®å½•åç§°æ›´ä¸“ä¸š

### 2. æ›´å¥½çš„å¯ç»´æŠ¤æ€§
- å‡å°‘æ–‡ä»¶æ•£ä¹±
- æ¸…æ™°çš„èŒè´£åˆ†ç¦»
- ä¾¿äºæ–°äººç†è§£
- ç¬¦åˆç°ä»£é¡¹ç›®æ ‡å‡†

### 3. æ›´å¼ºçš„æ‰©å±•æ€§
- æ–°åŠŸèƒ½å¯åœ¨srcä¸‹æ·»åŠ 
- è„šæœ¬æ–‡ä»¶ç‹¬ç«‹ç®¡ç†
- æµ‹è¯•æ–‡ä»¶é›†ä¸­ç»´æŠ¤
- é…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†

## ğŸ¯ åç»­å»ºè®®

1. **å®Œå–„æ–‡æ¡£**: ä¸ºæ¯ä¸ªæ¨¡å—æ·»åŠ è¯¦ç»†çš„README
2. **ä¼˜åŒ–é…ç½®**: è€ƒè™‘æ·»åŠ å¼€å‘/ç”Ÿäº§ç¯å¢ƒé…ç½®
3. **å¢å¼ºæµ‹è¯•**: ä¸ºæ–°ç»“æ„æ·»åŠ é›†æˆæµ‹è¯•
4. **CI/CD**: åˆ©ç”¨æ¸…æ™°çš„ç»“æ„é…ç½®è‡ªåŠ¨åŒ–æµæ°´çº¿

æ•´ç†å®Œæˆåï¼Œé¡¹ç›®ç»“æ„å˜å¾—æ›´åŠ æ¸…æ™°ã€ä¸“ä¸šå’Œæ˜“äºç»´æŠ¤ï¼
