# è°ƒè¯•è¾“å‡ºæ§åˆ¶

## æ¦‚è¿°
åè®®æµ‹è¯•å·¥å…·ç°åœ¨æ”¯æŒé€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶è°ƒè¯•ä¿¡æ¯çš„æ˜¾ç¤ºï¼Œé¿å…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­äº§ç”Ÿè¿‡å¤šçš„è°ƒè¯•è¾“å‡ºã€‚

## é…ç½®æ–‡ä»¶
åœ¨ `config/config.yml` ä¸­æ·»åŠ äº†è°ƒè¯•æ§åˆ¶é…ç½®ï¼š

```yaml
# è°ƒè¯•é…ç½®
debug:
  enabled: true # æ˜¯å¦å¯ç”¨è°ƒè¯•æ¨¡å¼
  show_packet_details: false # æ˜¯å¦æ˜¾ç¤ºæ•°æ®åŒ…è¯¦ç»†ä¿¡æ¯
```

## è°ƒè¯•çº§åˆ«

### 1. åŸºç¡€è°ƒè¯•ä¿¡æ¯ (`debug.enabled`)
å½“ `debug.enabled: true` æ—¶ï¼Œæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š
- å¼‚æ­¥å¾ªç¯çš„å¯åŠ¨å’Œåœæ­¢çŠ¶æ€
- æ¶ˆæ¯å‘é€å’Œæ¥æ”¶çš„åŸºæœ¬ä¿¡æ¯
- åè®®å¤„ç†å™¨çš„è°ƒç”¨çŠ¶æ€
- å†™é˜Ÿåˆ—çš„çŠ¶æ€ä¿¡æ¯

ç¤ºä¾‹è¾“å‡ºï¼š
```
ğŸ”§ [DEBUG] _async_write_loop å¼€å§‹è¿è¡Œ
ğŸ”§ [DEBUG] å‘é€æ¶ˆæ¯: proto_id=1001, seq=1, payload_len=25
ğŸ”§ [DEBUG] æ¶ˆæ¯å·²æ”¾å…¥å†™é˜Ÿåˆ—, å½“å‰é˜Ÿåˆ—å¤§å°: 1
ğŸ”§ [DEBUG] ç­‰å¾…å†™é˜Ÿåˆ—ä¸­çš„æ•°æ®...
ğŸ”§ [DEBUG] ä»å†™é˜Ÿåˆ—è·å–æ•°æ®: 43 å­—èŠ‚
ğŸ”§ [DEBUG] æ•°æ®å‘é€å®Œæˆ
ğŸ”§ [DEBUG] è°ƒç”¨å¤„ç†å™¨: ban_ack
ğŸ”§ [DEBUG] å¤„ç†å™¨æ‰§è¡Œå®Œæˆ: ban_ack
```

### 2. æ•°æ®åŒ…è¯¦ç»†ä¿¡æ¯ (`show_packet_details`)
å½“ `show_packet_details: true` æ—¶ï¼Œé¢å¤–æ˜¾ç¤ºï¼š
- æ¥æ”¶åˆ°çš„åŸå§‹æ•°æ®åŒ…å¤§å°
- è§£æåçš„æ•°æ®åŒ…è¯¦ç»†ä¿¡æ¯
- åè®®å¤„ç†çš„è¯¦ç»†å‚æ•°

ç¤ºä¾‹è¾“å‡ºï¼š
```
ğŸ”§ [DEBUG] æ¥æ”¶åˆ°æ•°æ®: 45 å­—èŠ‚
ğŸ”§ [DEBUG] è§£æåˆ°æ•°æ®åŒ…: proto_id=1002, seq=1
ğŸ”§ [DEBUG] å¤„ç†æ•°æ®åŒ…: proto_id=1002, seq=1, payload_len=25
```

## ä½¿ç”¨æ–¹æ³•

### 1. å…³é—­æ‰€æœ‰è°ƒè¯•ä¿¡æ¯
```yaml
debug:
  enabled: false
  show_packet_details: false
```

### 2. åªæ˜¾ç¤ºåŸºç¡€è°ƒè¯•ä¿¡æ¯
```yaml
debug:
  enabled: true
  show_packet_details: false
```

### 3. æ˜¾ç¤ºå…¨éƒ¨è°ƒè¯•ä¿¡æ¯
```yaml
debug:
  enabled: true
  show_packet_details: true
```

## è°ƒè¯•å‡½æ•°

### `debug_print(message)`
ç”¨äºè¾“å‡ºåŸºç¡€è°ƒè¯•ä¿¡æ¯ï¼Œå— `debug.enabled` æ§åˆ¶ã€‚

### `packet_debug_print(message)`
ç”¨äºè¾“å‡ºæ•°æ®åŒ…è¯¦ç»†ä¿¡æ¯ï¼Œå— `debug.enabled` å’Œ `show_packet_details` åŒé‡æ§åˆ¶ã€‚

## å®æ—¶é…ç½®
é…ç½®æ›´æ”¹ä¼šç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯ç¨‹åºã€‚æ¯æ¬¡è°ƒç”¨è°ƒè¯•å‡½æ•°æ—¶éƒ½ä¼šé‡æ–°æ£€æŸ¥é…ç½®ã€‚

## æ¨èè®¾ç½®

### å¼€å‘ç¯å¢ƒ
```yaml
debug:
  enabled: true
  show_packet_details: true
```

### ç”Ÿäº§ç¯å¢ƒ
```yaml
debug:
  enabled: false
  show_packet_details: false
```

### é—®é¢˜è¯Šæ–­
```yaml
debug:
  enabled: true
  show_packet_details: true
```

è¿™æ ·æ—¢èƒ½åœ¨éœ€è¦æ—¶æä¾›è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯ï¼Œåˆèƒ½åœ¨ä¸éœ€è¦æ—¶ä¿æŒè¾“å‡ºçš„ç®€æ´æ€§ã€‚
